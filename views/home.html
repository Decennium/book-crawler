{% extends "base.html" %}

{% block head %}

<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.5.2.min.js" type="text/javascript"></script>
<script>!window.jQuery && document.write('<script src="/static/jquery-1.5.2.min.js"><\/script>')</script>
<script type="text/javascript" charset="utf-8">
$(function(){
    var check_phrase = "输入小说章节地址";
    var uri = "";
    if (uri) {
        $("#uri").val(uri);
    } else if (! $("#uri").val()) {
        $("#uri").val(check_phrase);
        $("#uri").css({'color': '#ccc'});
    }

    $("#uri").focus(function(){
        if ($(this).val() == check_phrase) {
            $(this).val("");
            $("#uri").css({'color': '#111'});
        }
    });
});
</script>
{% end %}


{% block body %}
<div id="request">
    <h1><span class="hilight">网络小说下载器</span><sup>beta</sup></h1>
    <form id="request_form" action="/" method="post">
        <input type="url" id="uri" name="url" size="80" value="" />
        {{ xsrf_form_html() }}
    </form>
</div>


{% if error is 2 %}
<p class="error">章节地址不能为空</p>
{% elif error is 3 %}
<p class="error">章节地址无效</p>
{% elif error is 4 %}
<p class="error">暂不支持下载此网站小说</p>
{% end %}    
    

<p>支持网站列表：</p>
<ul class="site_list">
    {% for site in allow_sites %}
    <li>http://{{ site }}</li>
    {% end %}
</ul>
{% end %}